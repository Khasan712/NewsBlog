
{% load static %}
{% load hitcount_tags %}
{% load tagging_tags %}
{% load crispy_forms_tags %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <!--  This file has been downloaded from bootdey.com @bootdey on twitter -->
    <!--  All snippets are MIT license http://bootdey.com/license -->
    <title>User profile account setting - Bootdey.com</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">


  <style type="text/css">
    body {margin-top:20px;
    background:#eee;
    }
    
    .profile-widget {
      position: relative;
    }
    .profile-widget .image-container {
      background-size: cover;
      background-position: center;
      padding: 190px 0 10px;
    }
    .profile-widget .image-container .profile-background {
      width: 100%;
      height: auto;
    }
    .profile-widget .image-container .avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      margin: 0 auto -60px;
      display: block;
    }
    .profile-widget .details {
      padding: 50px 15px 15px;
      text-align: center;
    }
    
    /* Component: Mini Profile Widget */
    .mini-profile-widget .image-container .avatar {
      width: 180px;
      height: 180px;
      display: block;
      margin: 0 auto;
      border-radius: 50%;
      background: white;
      padding: 4px;
      border: 1px solid #dddddd;
    }
    .mini-profile-widget .details {
      text-align: center;
    }
    
    /* Component: Panel */
    .panel {
      border-radius: 0;
      margin-bottom: 30px;
    }
    .panel.solid-color {
      color: white;
    }
    .panel .panel-heading {
      border-radius: 0;
      position: relative;
    }
    .panel .panel-heading > .controls {
      position: absolute;
      right: 10px;
      top: 12px;
    }
    .panel .panel-heading > .controls .nav.nav-pills {
      margin: -8px 0 0 0;
    }
    .panel .panel-heading > .controls .nav.nav-pills li a {
      padding: 5px 8px;
    }
    .panel .panel-heading .clickable {
      margin-top: 0px;
      font-size: 12px;
      cursor: pointer;
    }
    .panel .panel-heading.no-heading-border {
      border-bottom-color: transparent;
    }
    .panel .panel-heading .left {
      float: left;
    }
    .panel .panel-heading .right {
      float: right;
    }
    .panel .panel-title {
      font-size: 16px;
      line-height: 20px;
    }
    .panel .panel-title.panel-title-sm {
      font-size: 18px;
      line-height: 28px;
    }
    .panel .panel-title.panel-title-lg {
      font-size: 24px;
      line-height: 34px;
    }
    .panel .panel-body {
      font-size: 13px;
    }
    .panel .panel-body > .body-section {
      margin: 0px 0px 20px;
    }
    .panel .panel-body > .body-section > .section-heading {
      margin: 0px 0px 5px;
      font-weight: bold;
    }
    .panel .panel-body > .body-section > .section-content {
      margin: 0px 0px 10px;
    }
    .panel-white {
      border: 1px solid #dddddd;
    }
    .panel-white > .panel-heading {
      color: #333;
      background-color: #fff;
      border-color: #ddd;
    }
    .panel-white > .panel-footer {
      background-color: #fff;
      border-color: #ddd;
    }
    .panel-primary {
      border: 1px solid #dddddd;
    }
    .panel-purple {
      border: 1px solid #dddddd;
    }
    .panel-purple > .panel-heading {
      color: #fff;
      background-color: #8e44ad;
      border: none;
    }
    .panel-purple > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-light-purple {
      border: 1px solid #dddddd;
    }
    .panel-light-purple > .panel-heading {
      color: #fff;
      background-color: #9b59b6;
      border: none;
    }
    .panel-light-purple > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-blue,
    .panel-info {
      border: 1px solid #dddddd;
    }
    .panel-blue > .panel-heading,
    .panel-info > .panel-heading {
      color: #fff;
      background-color: #2980b9;
      border: none;
    }
    .panel-blue > .panel-heading .panel-title a:hover,
    .panel-info > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-light-blue {
      border: 1px solid #dddddd;
    }
    .panel-light-blue > .panel-heading {
      color: #fff;
      background-color: #3498db;
      border: none;
    }
    .panel-light-blue > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-green,
    .panel-success {
      border: 1px solid #dddddd;
    }
    .panel-green > .panel-heading,
    .panel-success > .panel-heading {
      color: #fff;
      background-color: #27ae60;
      border: none;
    }
    .panel-green > .panel-heading .panel-title a:hover,
    .panel-success > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-light-green {
      border: 1px solid #dddddd;
    }
    .panel-light-green > .panel-heading {
      color: #fff;
      background-color: #2ecc71;
      border: none;
    }
    .panel-light-green > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-orange,
    .panel-warning {
      border: 1px solid #dddddd;
    }
    .panel-orange > .panel-heading,
    .panel-warning > .panel-heading {
      color: #fff;
      background-color: #e82c0c;
      border: none;
    }
    .panel-orange > .panel-heading .panel-title a:hover,
    .panel-warning > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-light-orange {
      border: 1px solid #dddddd;
    }
    .panel-light-orange > .panel-heading {
      color: #fff;
      background-color: #ff530d;
      border: none;
    }
    .panel-light-orange > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-red,
    .panel-danger {
      border: 1px solid #dddddd;
    }
    .panel-red > .panel-heading,
    .panel-danger > .panel-heading {
      color: #fff;
      background-color: #d40d12;
      border: none;
    }
    .panel-red > .panel-heading .panel-title a:hover,
    .panel-danger > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-light-red {
      border: 1px solid #dddddd;
    }
    .panel-light-red > .panel-heading {
      color: #fff;
      background-color: #ff1d23;
      border: none;
    }
    .panel-light-red > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-pink {
      border: 1px solid #dddddd;
    }
    .panel-pink > .panel-heading {
      color: #fff;
      background-color: #fe31ab;
      border: none;
    }
    .panel-pink > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-light-pink {
      border: 1px solid #dddddd;
    }
    .panel-light-pink > .panel-heading {
      color: #fff;
      background-color: #fd32c0;
      border: none;
    }
    .panel-light-pink > .panel-heading .panel-title a:hover {
      color: #f0f0f0;
    }
    .panel-group .panel {
      border-radius: 0;
    }
    .panel-group .panel + .panel {
      margin-top: 0;
      border-top: 0;
    }
    
    .bg-blue,
    .bg-info {
      background-color: #2980b9 !important;
    }
    .bg-light-blue {
      background-color: #3498db !important;
    }
    .bg-red,
    .bg-danger {
      background-color: #d40d12 !important;
    }
    .bg-light-red {
      background-color: #ff1d23 !important;
    }
    .bg-purple {
      background-color: #8e44ad !important;
    }
    .bg-light-purple {
      background-color: #9b59b6 !important;
    }
    .bg-green,
    bg-success {
      background-color: #27ae60 !important;
    }
    .bg-light-green {
      background-color: #2ecc71 !important;
    }
    .bg-orange,
    .bg-warning {
      background-color: #e82c0c !important;
    }
    .bg-light-orange {
      background-color: #ff530d !important;
    }
    .bg-pink {
      background-color: #fe31ab !important;
    }
    .bg-light-pink {
      background-color: #fd32c0 !important;
    }
    .color-white {
      color: white !important;
    }
    .color-green,
    .text-success {
      color: #27ae60 !important;
    }
    .color-light-green {
      color: #2ecc71 !important;
    }
    .color-blue,
    .text-info {
      color: #2980b9 !important;
    }
    .color-light-blue {
      color: #3498db !important;
    }
    .color-orange,
    .text-warning {
      color: #e82c0c !important;
    }
    .color-light-orange {
      color: #ff530d !important;
    }
    .color-red,
    .text-danger {
      color: #d40d12 !important;
    }
    .color-light-red {
      color: #ff1d23 !important;
    }
    .color-purple {
      color: #8e44ad !important;
    }
    .color-light-purple {
      color: #9b59b6 !important;
    }
    .color-pink {
      color: #fe31ab !important;
    }
    .color-light-pink {
      color: #fd32c0 !important;
    }
    .border-green {
      border: 4px solid #27ae60 !important;
    }
    .border-light-green {
      border: 4px solid #2ecc71 !important;
    }
    .border-blue {
      border: 4px solid #2980b9 !important;
    }
    .border-light-blue {
      border: 4px solid #3498db !important;
    }
    .border-orange {
      border: 4px solid #e82c0c !important;
    }
    .border-light-orange {
      border: 4px solid #ff530d !important;
    }
    .border-red {
      border: 4px solid #d40d12 !important;
    }
    .border-light-red {
      border: 4px solid #ff1d23 !important;
    }
    .border-purple {
      border: 4px solid #8e44ad !important;
    }
    .border-light-purple {
      border: 4px solid #9b59b6 !important;
    }
    .border-pink {
      border: 4px solid #fe31ab !important;
    }
    .border-light-pink {
      border: 4px solid #fd32c0 !important;
    }
    .border-top-green {
      border-top: 4px solid #27ae60 !important;
    }
    .border-top-light-green {
      border-top: 4px solid #2ecc71 !important;
    }
    .border-top-blue {
      border-top: 4px solid #2980b9 !important;
    }
    .border-top-light-blue {
      border-top: 4px solid #3498db !important;
    }
    .border-top-orange {
      border-top: 4px solid #e82c0c !important;
    }
    .border-top-light-orange {
      border-top: 4px solid #ff530d !important;
    }
    .border-top-red {
      border-top: 4px solid #d40d12 !important;
    }
    .border-top-light-red {
      border-top: 4px solid #ff1d23 !important;
    }
    .border-top-purple {
      border-top: 4px solid #8e44ad !important;
    }
    .border-top-light-purple {
      border-top: 4px solid #9b59b6 !important;
    }
    .border-top-pink {
      border-top: 4px solid #fe31ab !important;
    }
    .border-top-light-pink {
      border-top: 4px solid #fd32c0 !important;
    }
    .border-right-green {
      border-right: 4px solid #27ae60 !important;
    }
    .border-right-light-green {
      border-right: 4px solid #2ecc71 !important;
    }
    .border-right-blue {
      border-right: 4px solid #2980b9 !important;
    }
    .border-right-light-blue {
      border-right: 4px solid #3498db !important;
    }
    .border-right-orange {
      border-right: 4px solid #e82c0c !important;
    }
    .border-right-light-orange {
      border-right: 4px solid #ff530d !important;
    }
    .border-right-red {
      border-right: 4px solid #d40d12 !important;
    }
    .border-right-light-red {
      border-right: 4px solid #ff1d23 !important;
    }
    .border-right-purple {
      border-right: 4px solid #8e44ad !important;
    }
    .border-right-light-purple {
      border-right: 4px solid #9b59b6 !important;
    }
    .border-right-pink {
      border-right: 4px solid #fe31ab !important;
    }
    .border-right-light-pink {
      border-right: 4px solid #fd32c0 !important;
    }
    .border-bottom-green {
      border-bottom: 4px solid #27ae60 !important;
    }
    .border-bottom-light-green {
      border-bottom: 4px solid #2ecc71 !important;
    }
    .border-bottom-blue {
      border-bottom: 4px solid #2980b9 !important;
    }
    .border-bottom-light-blue {
      border-bottom: 4px solid #3498db !important;
    }
    .border-bottom-orange {
      border-bottom: 4px solid #e82c0c !important;
    }
    .border-bottom-light-orange {
      border-bottom: 4px solid #ff530d !important;
    }
    .border-bottom-red {
      border-bottom: 4px solid #d40d12 !important;
    }
    .border-bottom-light-red {
      border-bottom: 4px solid #ff1d23 !important;
    }
    .border-bottom-purple {
      border-bottom: 4px solid #8e44ad !important;
    }
    .border-bottom-light-purple {
      border-bottom: 4px solid #9b59b6 !important;
    }
    .border-bottom-pink {
      border-bottom: 4px solid #fe31ab !important;
    }
    .border-bottom-light-pink {
      border-bottom: 4px solid #fd32c0 !important;
    }
    .border-left-green {
      border-left: 4px solid #27ae60 !important;
    }
    .border-left-light-green {
      border-left: 4px solid #2ecc71 !important;
    }
    .border-left-blue {
      border-left: 4px solid #2980b9 !important;
    }
    .border-left-light-blue {
      border-left: 4px solid #3498db !important;
    }
    .border-left-orange {
      border-left: 4px solid #e82c0c !important;
    }
    .border-left-light-orange {
      border-left: 4px solid #ff530d !important;
    }
    .border-left-red {
      border-left: 4px solid #d40d12 !important;
    }
    .border-left-light-red {
      border-left: 4px solid #ff1d23 !important;
    }
    .border-left-purple {
      border-left: 4px solid #8e44ad !important;
    }
    .border-left-light-purple {
      border-left: 4px solid #9b59b6 !important;
    }
    .border-left-pink {
      border-left: 4px solid #fe31ab !important;
    }
    .border-left-light-pink {
      border-left: 4px solid #fd32c0 !important;
    {% comment %} }
    .bg2 {
      background-image: url('http://www.bootdey.com/img/Content/flores-amarillas-wallpaper.jpeg');
    } {% endcomment %}
    
    
    
    
    .btn-blue {
      background-color: #3498db;
      border-color: #3498db;
      color: white;
    }
    .btn-blue:hover,
    .btn-blue:visited {
      background-color: #2980b9;
      color: white;
    }
    .btn-green {
      background-color: #2ecc71;
      border-color: #27ae60;
      color: white;
    }
    .btn-green:hover,
    .btn-green:visited {
      background-color: #27ae60;
      color: white;
    }
    .btn-orange {
      background-color: #ff530d;
      border-color: #e82c0c;
      color: white;
    }
    .btn-orange:hover,
    .btn-orange:visited {
      background-color: #e82c0c;
      color: white;
    }
    .btn-red {
      background-color: #ff1d23;
      border-color: #d40d12;
      color: white;
    }
    .btn-red:hover,
    .btn-red:visited {
      background-color: #d40d12;
      color: white;
    }
    .btn-purple {
      background-color: #9b59b6;
      border-color: #8e44ad;
      color: white;
    }
    .btn-purple:hover,
    .btn-purple:visited {
      background-color: #8e44ad;
      color: white;
    }
    .btn-pink {
      background-color: #fd32c0;
      border-color: #fe31ab;
      color: white;
    }
    .btn-pink:hover,
    .btn-pink:visited {
      background-color: #fe31ab;
      color: white;
    }
    
    .progress.progress-xs {
        height: 12px;
    }
    
    </style>
</head>
<body>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<div class="container">
<div class="row">
    <div class="col-sm-8 col-sm-offset-2">
        <div class="panel panel-white profile-widget">
            <div class="row">
                <div class="col-sm-12">
                    <div class="image-container bg2" style="background-image: url('{{userProfile.get_back_img_url}}')">

                      {% for auth in backends.associated %}
                        {% if auth.provider == 'facebook' %}
                          <img src="{{auth.extra_data.picture.data.url}}" class="avatar" alt="avatar">
                        {% elif auth.provider == 'google' %}
                          <img src="{{userProfile.get_img_url}}" class="avatar" alt="avatar">
                        {% else %}
                          <img src="{{userProfile.get_img_url}}" class="avatar" alt="avatar">
                        {% endif %}
                      {% endfor %}
                          
                      {% comment %} <img src="{{userProfile.get_img_url}}" class="avatar" alt="avatar"> {% endcomment %}
                    </div>
                </div>
                <div class="col-sm-12">
                    <div class="details">
                      <h4>{{userProfile.first_name}} {{userProfile.last_name}}<i class="fa fa-sheild"></i></h4>

                      {% comment %} {% for auth in backends.associated %}

                        {% if auth.provider == 'facebook' %}
                          <div class="col-md-6 text-center">
                              <img src="{{auth.extra_data.picture.data.url}}" alt="" width="150" height="150" style="border-radius: 50%">
                          </div>
                          <div class="col-md-6 social-container my-2">
                              <p>Signed in via: {{ auth.provider }}</p>
                              <p>Name: {{ auth.extra_data.name }}</p>
                              <p>Provider url: <a href="{{auth.extra_data.profile_url}}">link</a></p>
                          </div>
                        {% endif %}

                      {% endfor %} {% endcomment %}


                      {% if user.id == userProfile.id %}
                        {% if userProfile.bio == None %}
                          <div><a href=" ">Add bio</a></div>
                        {% else %}
                          <div>{{userProfile.bio}}</div>
                        {% endif %}
                      {% else %}
                        {% if userProfile.bio == None %}
                          <div> </div>
                        {% else %}
                          <div>{{userProfile.bio}}</div>
                        {% endif %}
                      {% endif %}
                      <div>{{userProfile.username}}</div>
                      <br>
                      {% if user.id == userProfile.id %}
                      <div class="mg-top-10">
                          <a href="{% url 'user_logout' %}" class="btn btn-danger">Logout</a>
                          <a href="{% url 'edit_user_profile' userProfile.id %}" class="btn btn-success">Edit</a>
                      </div>
                      {% endif %}
                    </div>
                </div>

            </div>
        </div>
        
        <div class="row">
            
            <div class="col-sm-6">
                
                <div class="panel panel-white border-top-purple">
                  <div class="panel-heading">
                      <h3 class="panel-title">Info</h3>
                      <div class="controls pull-right">
                          <span class="pull-right clickable">
                              <i class="fa fa-chevron-up"></i>
                          </span>
                      </div>
                  </div>
                  <div class="panel-body"> 
                    <div class="body-section">
                        <h5 class="section-heading">First Name</h5>
                        <p class="section-content">{{userProfile.first_name}}</p>
                    </div>
                    <div class="body-section">
                        <h5 class="section-heading">Last Name</h5>
                        <p class="section-content">{{userProfile.last_name}}</p>
                    </div>

                    <div class="body-section">
                        <h5 class="section-heading">Bio</h5>
                        <p class="section-content">{{userProfile.bio}}</p>
                    </div>

                    <div class="body-section">
                      <h5 class="section-heading">Address</h5>
                      <p class="section-content">{{userProfile.address}}</p>
                    </div>
                    <div class="body-section">
                      <h5 class="section-heading">Telephone</h5>
                      <p class="section-content">{{userProfile.tel}}</p>
                    </div>
                    <div class="body-section">
                      <h5 class="section-heading">Website</h5>
                      <p class="section-content"><a href="{{userProfile.website}}">{{userProfile.website}}</a></p>
                    </div>
                    


                  </div>
                </div>
                 

                {% if user.id == userProfile.id %}
                  <div class="panel panel-white border-top-light-blue">
                    <div class="panel-heading">
                          <h3 class="panel-title">Create Post</h3>
                          <div class="controls pull-right">
                              <span class="pull-right clickable">
                                  <i class="fa fa-chevron-up"></i>
                              </span>
                          </div>
                      </div>
                      <div class="panel-body">
                        <div class="body-section">
                          <form method="POST" action="{% url 'user_profile' user.id %}" enctype="multipart/form-data">
                            {% csrf_token %}
                            {{form.image}}
                            <br>
                            {{form.description.label}}
                            <br>
                            {{form.description}}
                            <br>
                            {{form.category.label}}
                            <br>
                            {{form.category}}
                            <br>
                            <br>
                            {{form.tags.label}}
                            <br>
                            {{form.tags}}
                            <br>
                            {{form.message.label}}
                            {{form.message}}
                            <input class="btn btn-info btn-sm" type="submit" value="Create" />
                          </form>
                        </div>
                      </div>
                  </div>
                {% endif %}
                
            </div>
            
            <div class="col-sm-6">
                 
                <div class="panel panel-white border-top-green">
                  <div class="panel-heading">

                    {% if user.id == userProfile.id %}
                      <h3 class="panel-title">Your Posts</h3>
                    {% else %}
                      <h3 class="panel-title">{{userProfile.first_name}} Posts {{qty_moreViews}}</h3>
                    {% endif %}
                      <div class="controls pull-right">
                          <span class="pull-right clickable">
                              <i class="fa fa-chevron-up"></i>
                          </span>
                      </div>
                  </div>
                  <div class="panel-body">
                    
                    {% for post in moreViews %}

                      <h5><b>{{post.author}}</b></h5>
                      <p>{{post.description}}</p>
                      <p>{{post.category}}</p>
                      <img style="width:327px; height:250px; background-size: cover;" src="{{post.image.url}}">

                      {% if user.id == userProfile.id %}
                        <a href="{% url 'update_user_post' post.id %}">Edit |{{post.date}}</a>
                        <a href="{% url 'delete_user_post' post.id %}">| Delete</a>
                      {% endif %}

                      <br>
                      <br>
                      <p>{{post.message}}</p>
                      {% for tag in post.tags.all %}
                        <a href=""># {{ tag }},</a>
                      {% endfor %}
                      
                      {% for comment in post.comments.all %}
                        <h5>{{comment.comment_user}}</h5>
                        <p>---- {{comment.message}}</p>
                      {% endfor %}
                      <h6><b>Viewer:</b> {% get_hit_count for post %}</h6>
                      <h6><b>Comments:</b> {{post.get_count}}</h6>
                      <form method="POST">{% csrf_token %}
                        <input style="width: 100%" type="text">
                      </form>
                      <hr>
                    {% endfor %}

                  </div>
                </div>
                 
                {% comment %} <div class="panel panel-white border-top-orange">
                   <div class="panel-heading">
                        <h3 class="panel-title">Social Statistics</h3>
                        <div class="controls pull-right">
                            <span class="pull-right clickable">
                                <i class="fa fa-chevron-up"></i>
                            </span>
                        </div>
                    </div>
                    <div class="panel-body"> 
                        <div class="body-section">
                            <h5 class="section-heading">Friends</h5>
                            <p class="section-content">242</p>
                        </div>
                        <div class="body-section">
                            <h5 class="section-heading">Posts</h5>
                            <p class="section-content">2240</p>
                        </div> 
                        <div class="body-section">
                            <h5 class="section-heading">Pictures</h5>
                            <p class="section-content">18</p>
                        </div>  
                    </div>
                </div>
                 
                <div class="panel panel-white border-top-blue">
                   <div class="panel-heading">
                        <h3 class="panel-title">Sale Statistics</h3>
                        <div class="controls pull-right">
                            <span class="pull-right clickable">
                                <i class="fa fa-chevron-up"></i>
                            </span>
                        </div>
                    </div>
                    <div class="panel-body">  
                        <div class="body-section">
                            <h5 class="section-heading">Today</h5>
                            <p class="section-content">$450.00</p>
                        </div>
                        <div class="body-section">
                            <h5 class="section-heading">Last Week</h5>
                            <p class="section-content">$1222.00</p>
                        </div>
                        <div class="body-section">
                            <h5 class="section-heading">This Quarter</h5>
                            <p class="section-content">$122,300.00</p>
                        </div>  
                    </div>
                </div> {% endcomment %}
                
            </div>
            
        </div>
        
    </div>

</div>
</div>



<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script type="text/javascript"></script>
</body>
</html>